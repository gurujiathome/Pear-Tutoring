<!-- Canvas for paper.js -->
<canvas #whiteboard resize
	(mousedown)="onMouseDown($event)"
	(mousemove)="onMouseMove($event)"
	(mouseup)="onMouseUp($event)"
	[style.height]="takingSnapshot ? snapshotDimensions.height + 'px' : 'inherit'"
	[style.width]="takingSnapshot ?  snapshotDimensions.width + 'px' : 'inherit'"></canvas>

<!-- Tool selection -->
<div *ngIf="showToolbar" class="toolbar">
	<md-button-toggle-group [vertical]="true" [(ngModel)]="tool">
		<md-button-toggle value="cursor">
			<span class="fa fa-mouse-pointer"></span>
		</md-button-toggle>
		<md-button-toggle value="pen">
			<span class="fa fa-pencil"></span>
		</md-button-toggle>
		<md-button-toggle value="eraser">
			<span class="fa fa-eraser"></span>
		</md-button-toggle>
		<md-button-toggle value="text">
			<span class="fa fa-i-cursor"></span>
		</md-button-toggle>
		<md-button-toggle value="shape">
			<span class="fa fa-square"></span>
		</md-button-toggle>
	</md-button-toggle-group>
</div>

<!-- Tool-Specific Toolbars -->

<!-- Draw Toolbar -->
<div *ngIf="showToolbar && tool === 'pen'" class="tool-toolbar">
	<div class="option">
		<label>Color</label>
		<button class="color"
			[(colorPicker)]="markingOptions.strokeColor"
			[cpFallbackColor]="markingOptions.strokeColor"
			[style.background]="markingOptions.strokeColor"></button>
	</div>
	<div class="option">
		<label>Width</label>
		<md-slider
			[(ngModel)]="markingOptions.strokeWidth"
			[min]="1"
			[max]="100"
			[thumb-label]="true"></md-slider>
	</div>
</div>

<!-- Text Toolbar -->
<div *ngIf="showToolbar && tool === 'text'" class="tool-toolbar">
	<div class="option">
		<label>Color</label>
		<button class="color"
			[(colorPicker)]="textOptions.fillColor"
			[cpFallbackColor]="textOptions.fillColor"
			[style.background]="textOptions.fillColor"></button>
	</div>
	<div class="option">
		<label>Size</label>
		<md-slider
			[(ngModel)]="textOptions.fontSize"
			[min]="1"
			[max]="100"
			[thumb-label]="true"></md-slider>
	</div>
</div>

<!-- Shape Toolbar -->
<div *ngIf="showToolbar && tool === 'shape'" class="tool-toolbar">
	<div class="option">
		<label>Fill Color</label>
		<button class="color"
			[(colorPicker)]="shapeOptions.fillColor"
			[cpFallbackColor]="shapeOptions.fillColor"
			[style.background]="shapeOptions.fillColor"></button>
	</div>
	<div class="option">
		<label>Stroke Color</label>
		<button class="color"
			[(colorPicker)]="shapeOptions.strokeColor"
			[cpFallbackColor]="shapeOptions.strokeColor"
			[style.background]="shapeOptions.strokeColor"></button>
	</div>
	<div class="option">
		<label>Stroke Size</label>
		<md-slider
			[(ngModel)]="shapeOptions.strokeWidth"
			[min]="1"
			[max]="100"
			[thumb-label]="true"></md-slider>
	</div>
	<div class="option">
		<label>Shape</label>
		<md-radio-group [(ngModel)]="shapeType">
			<md-radio-button value="line">Line</md-radio-button>
			<md-radio-button value="arc">Arc</md-radio-button>
			<md-radio-button value="ellipse">Circle/Ellipse</md-radio-button>
			<md-radio-button value="polygon">
				Polygon
				<input class="number" type="number" [(ngModel)]="polygonSides">
			</md-radio-button>
			<md-radio-button value="star">
				Star
				<input class="number" type="number" [(ngModel)]="starSides">
				<input class="number" type="number" min="1" max="99" [(ngModel)]="starRadiusPercentage">
			</md-radio-button>
		</md-radio-group>


		<!-- <div class="form-inline">
			<fieldset class="form-group">
				<input id="shape-line" type="radio" value="line" [(ngModel)]="shapeType">
				<label for="shape-line">Line</label>
			</fieldset>
			<fieldset class="form-group">
				<input id="shape-arc" type="radio" value="arc" [(ngModel)]="shapeType">
				<label for="shape-arc">Arc</label>
			</fieldset>
			<fieldset class="form-group">
				<input id="shape-ellipse" type="radio" value="ellipse" [(ngModel)]="shapeType">
				<label for="shape-ellipse">Circle/Ellipse</label>
			</fieldset>
			<fieldset class="form-group">
				<input id="shape-polygon" type="radio" value="polygon" [(ngModel)]="shapeType">
				<label for="shape-polygon">Polygon</label>
				<input class="number" type="number" [(ngModel)]="polygonSides">
			</fieldset>
			<fieldset class="form-group">
				<input id="shape-star" type="radio" value="star" [(ngModel)]="shapeType">
				<label for="shape-star">Star</label>
				<input class="number" type="number" [(ngModel)]="starSides">
				<input class="number" type="number" min="1" max="99" [(ngModel)]="starRadiusPercentage">
			</fieldset>
		</div> -->
	</div>
</div>

<div class="taking-snapshot" [class.show]="takingSnapshot">
	<h1>Taking Snapshot...</h1>
</div>

<div class="invalid-key" [class.show]="!validKey">
	<h1>Invalid whiteboard key!</h1>
</div>
