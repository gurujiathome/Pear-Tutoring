<md-card class="card" [ngClass]="subject">
  <div md-card-image>
    <div class="session-thumbnails">
      <div class="row">
        <img *ngIf="session.whiteboards[0]" class="img-fluid" [src]="session.whiteboards[0].snapshot">
        <img *ngIf="session.whiteboards[1]" class="img-fluid" [src]="session.whiteboards[1].snapshot">
      </div>
      <div class="row">
        <img *ngIf="session.whiteboards[2]" class="img-fluid" [src]="session.whiteboards[2].snapshot">
        <img *ngIf="session.whiteboards[3]" class="img-fluid" [src]="session.whiteboards[3].snapshot">
      </div>
    </div>
    <a (click)="joinSession()">
      <div class="mask"></div>
    </a>
  </div>

  <md-card-header>
    <img md-card-avatar [src]="session.tutor.pfp">
    <md-card-title>{{ session.title }}</md-card-title>
  </md-card-header>

  <md-card-content>
    <p>{{ session.desc }}</p>
    <p>{{ startTime }} ~ {{ endTime }}</p>
    <md-chip-list>
      <md-chip *ngFor="let tag of session.tags">{{ tag }}</md-chip>
    </md-chip-list>
  </md-card-content>

  <md-divider></md-divider>

  <md-card-actions>
    <button md-raised-button (click)="joinSession()" class="join-session">Join Session</button>
    <button md-icon-button [mdMenuTriggerFor]="menu" *ngIf="user.uid === session.tutor.$key" class="session-admin">
      <md-icon>more_vert</md-icon>
    </button>
    <md-menu #menu="mdMenu">
      <button md-menu-item class="update-session" (click)="updateSession()">Update</button>
      <button md-menu-item class="delete-session" (click)="deleteSession()">Delete</button>
    </md-menu>
  </md-card-actions>
</md-card>
